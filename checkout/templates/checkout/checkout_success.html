{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'checkout/css/checkout.css' %}">
{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row">
    <div class="col">
      <div class="alert alert-success">
        <strong>Success!</strong>
        Order successfully processed! Your order number is <strong>{{ order.order_number }}</strong>.
        A confirmation email will be sent to <strong>{{ order.email }}</strong>.
      </div>
      <h2 class="mb-3">Thank you</h2>
      <p class="text-muted">Your order information is below.</p>

      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Order Info</h5>
          <div class="row">
            <div class="col-md-4">Order Number</div>
            <div class="col-md-8">{{ order.order_number }}</div>
          </div>
          <div class="row">
            <div class="col-md-4">Order Date</div>
            <div class="col-md-8">{{ order.date }}</div>
          </div>

          <hr>
          <h6>Items</h6>
          {% for item in order.lineitems.all %}
            <div class="row">
              <div class="col-md-8">
                {{ item.product.name }} {% if item.product_size %} (Size {{ item.product_size|upper }}){% endif %}
              </div>
              <div class="col-md-4 text-right">
                {{ item.quantity }} × ₵{{ item.product.price }}
              </div>
            </div>
          {% endfor %}

          <hr>
          <div class="row">
            <div class="col-md-6">Order Total</div>
            <div class="col-md-6 text-right">₵{{ order.order_total|floatformat:2 }}</div>
          </div>
          <div class="row">
            <div class="col-md-6">Delivery</div>
            <div class="col-md-6 text-right">₵{{ order.delivery_cost|floatformat:2 }}</div>
          </div>
          <div class="row font-weight-bold">
            <div class="col-md-6">Grand Total</div>
            <div class="col-md-6 text-right">₵{{ order.grand_total|floatformat:2 }}</div>
          </div>
        </div>
      </div>

      <a href="{% url 'all_products' %}" class="btn btn-primary">Continue shopping</a>
    </div>
  </div>
</div>
{% endblock %}
